(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb1a75b8"],{"0cfa":function(e,t,o){},4020:function(e,t,o){"use strict";var a=o("0e6f"),r=o("03bd").includes,i=o("8276");a({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},6106:function(e,t,o){"use strict";var a=o("0e6f"),r=o("20aa"),i=o("350f"),n=o("f1c6");a({target:"String",proto:!0,forced:!n("includes")},{includes:function(e){return!!~String(i(this)).indexOf(r(e),arguments.length>1?arguments[1]:void 0)}})},"6eca":function(e,t,o){"use strict";var a=o("0cfa"),r=o.n(a);r.a},"9ed6":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"login"}},[o("div",{staticClass:"bg"},[o("el-footer",[o("p",[e._v("© 四川精准医疗科技有限责任公司")])])],1),o("div",{staticClass:"container"},[o("div",{staticClass:"login"},[e._m(0),o("div",{staticClass:"login-box"},[o("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"密码登录",name:"1"}},[o("el-form",{ref:"passwordFrom",attrs:{rules:e.rules,model:e.passwordFrom}},[o("el-form-item",{attrs:{prop:"mobile"}},[o("el-input",{attrs:{placeholder:"手机号码",maxlength:"11",clearable:""},model:{value:e.passwordFrom.mobile,callback:function(t){e.$set(e.passwordFrom,"mobile",t)},expression:"passwordFrom.mobile"}})],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{"suffix-icon":e.isOpen?"iconfont icon-faxian-yanjing":"iconfont icon-guanbi-yanjing",type:e.isOpen?"text":"password",maxlength:"30",placeholder:"登录密码"},nativeOn:{click:function(t){return e.changeEye(t)}},model:{value:e.passwordFrom.password,callback:function(t){e.$set(e.passwordFrom,"password",t)},expression:"passwordFrom.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.logSubmit("passwordFrom")}}},[e._v("登 录")])],1)],1)],1),o("el-tab-pane",{attrs:{label:"验证码登录",name:"2"}},[o("el-form",{ref:"codeFrom",attrs:{rules:e.rules,model:e.codeFrom}},[o("el-form-item",{attrs:{prop:"mobile"}},[o("el-input",{attrs:{placeholder:"手机号码",maxlength:"11",clearable:""},model:{value:e.codeFrom.mobile,callback:function(t){e.$set(e.codeFrom,"mobile",t)},expression:"codeFrom.mobile"}})],1),o("el-form-item",{attrs:{prop:"code"}},[o("el-input",{attrs:{placeholder:"请输入短信验证码",maxlength:"6"},model:{value:e.codeFrom.code,callback:function(t){e.$set(e.codeFrom,"code",t)},expression:"codeFrom.code"}}),o("countDown",{attrs:{className:"get-code",downClass:"countdown",countParams:e.countParams}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.logSubmit("codeFrom")}}},[e._v("登 录")])],1)],1)],1)],1),o("div",{staticClass:"login-foot"},[o("p",{staticClass:"fw400 c666",on:{click:function(t){return e.$router.push({name:"personReg"})}}},[e._v("不是会员，去注册")]),o("p",{staticClass:"c999",on:{click:function(t){return e.$router.push({name:"forgetPsd"})}}},[e._v("忘记密码?")])])],1)])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"top"},[a("img",{attrs:{src:o("c19b"),alt:""}})])}],i=(o("4020"),o("6106"),o("0160"),o("61f7")),n=o("acaa"),s={name:"home",data:function(){return{activeName:"1",isOpen:!1,active:"0",loginWay:"pwd",countParams:{api:"SendLoginCode",params:{mobile:""}},passwordFrom:{mobile:"",password:""},codeFrom:{mobile:"",code:""},rules:{mobile:[i["a"].verifyRequired("手机不能为空！"),{validator:i["a"].verifyPhone,trigger:"submit"}],password:[i["a"].verifyRequired("密码不能为空！"),{validator:i["a"].verifyPwd,trigger:"submit"}],code:[i["a"].verifyRequired("短信验证码不能为空！")]}}},components:{countDown:n["a"]},methods:{changeEye:function(e){e.target.className.includes("yanjing")&&(this.isOpen=!this.isOpen)},logSubmit:function(e){var t,o=this;this.$refs[e].validate((function(e){if(!e)return!1;var a="1"===o.activeName?"personLogin":"PersonSmsCodeLogin",r="1"===o.activeName?o.passwordFrom:o.codeFrom;t=o.$loading({lock:!1,text:"正在登录...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),o.$api[a](r).then((function(e){var a={token:e.token,personInfo:e};o.$store.commit("INCREMENT_CHANGEUSERINFO",a),setTimeout((function(){t.close(),o.$router.push({name:"userCener"})}),1500)})).catch((function(e){t.close(),o.$showMsg(e)}))}))}},computed:{newRules:function(){var e={mobile:[i["a"].verifyRequired("手机不能为空！"),{validator:i["a"].verifyPhone,trigger:"change"}]};return"pwd"===this.loginWay?e.password=[i["a"].verifyRequired("密码不能为空！"),{validator:i["a"].verifyPwd,trigger:"change"}]:e.code=[i["a"].verifyRequired("短信验证码不能为空！")],e}},watch:{"codeFrom.mobile":function(e,t){this.countParams.params.mobile=e}}},c=s,l=(o("6eca"),o("5511")),m=Object(l["a"])(c,a,r,!1,null,null,null);t["default"]=m.exports},acaa:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("a",{directives:[{name:"show",rawName:"v-show",value:e.timeShow,expression:"timeShow"}],class:e.className,on:{click:e.sendcode}},[e._v("获取验证码")]),o("a",{directives:[{name:"show",rawName:"v-show",value:!e.timeShow,expression:"!timeShow"}],class:[e.className,e.downClass]},[e._v(e._s(e.time)+" 秒")])])},r=[],i={props:{className:{type:String},downClass:{type:String},countParams:{type:Object}},data:function(){return{timeShow:!0,time:"",timer:null}},methods:{sendcode:_.debounce((function(){var e=this,t=this.countParams,o=t.api,a=t.params,r=/^[1][3,4,5,7,8,9][0-9]{9}$/;a.mobile&&r.test(a.mobile)?this.$api[o](a).then((function(t){var o=59;e.timer||(e.time=o,e.timeShow=!1,e.timer=setInterval((function(){e.time>0&&e.time<=o?e.time--:(e.timeShow=!0,clearInterval(e.timer),e.timer=null)}),1e3))})).catch((function(t){e.$showMsg(t)})):this.$showMsg("请输入正确的手机号码！")}),500,{leading:!0,trailing:!1})}},n=i,s=o("5511"),c=Object(s["a"])(n,a,r,!1,null,"2a999614",null);t["a"]=c.exports},c19b:function(e,t,o){e.exports=o.p+"img/logo-top.e5397e78.png"}}]);
//# sourceMappingURL=chunk-fb1a75b8.91322caf.js.map