(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fc0500c"],{"008c":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.formShow,expression:"!formShow"}],staticClass:"person-step1"},[r("div",{staticClass:"person-reg ptb55 mr0auto bgcfff"},[r("h1",{staticClass:"tc fs24 c333 mb30 fw400"},[e._v("个人注册")]),r("el-form",{ref:"regpersonform",staticClass:"mr0auto",attrs:{"label-position":"top","label-width":"80px","hide-required-asterisk":"",model:e.regpersonform,rules:e.personRules}},[r("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[r("el-input",{attrs:{placeholder:"请输入手机号码",maxlength:"11",clearable:""},model:{value:e.regpersonform.mobile,callback:function(t){e.$set(e.regpersonform,"mobile",t)},expression:"regpersonform.mobile"}})],1),r("el-form-item",{attrs:{label:"验证码",prop:"code"}},[r("el-input",{attrs:{placeholder:"请输入短信验证码",maxlength:"6"},model:{value:e.regpersonform.code,callback:function(t){e.$set(e.regpersonform,"code",t)},expression:"regpersonform.code"}}),r("countDown",{attrs:{className:"get-code",downClass:"countdown",countParams:e.countParams}})],1),r("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[r("el-input",{attrs:{"suffix-icon":e.isOpen?"iconfont icon-faxian-yanjing":"iconfont icon-guanbi-yanjing",type:e.isOpen?"text":"password",placeholder:"请设置登录密码，不少于6位"},nativeOn:{click:function(t){return e.changeEye(t)}},model:{value:e.regpersonform.password,callback:function(t){e.$set(e.regpersonform,"password",t)},expression:"regpersonform.password"}})],1),r("el-form-item",[r("input",{staticClass:"regular-check repaytype argee",attrs:{type:"checkbox",id:"checkbox",name:"type"}}),r("label",{attrs:{for:"checkbox"},on:{click:e.argee}}),r("label",{staticClass:"check-label"},[e._v(" 我同意并接受用户 "),r("a",{staticClass:"url-tag",on:{click:function(t){return e.toPage("/service")}}},[e._v("《服务条款》")]),e._v("和 "),r("a",{staticClass:"url-tag",on:{click:function(t){return e.toPage("/privacyStatement")}}},[e._v("《隐私声明》")])])]),r("el-form-item",[r("el-button",{staticClass:"fl",on:{click:function(t){return e.lastStep("/")}}},[e._v("上一步")]),r("el-button",{staticClass:"fr",attrs:{type:"primary",disabled:e.ischecked},on:{click:function(t){return e.nextStep("regpersonform")}}},[e._v("下一步")])],1)],1)],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.formShow,expression:"formShow"}],staticClass:"person-step2"},[r("div",{staticClass:"personal-reg ptb55 mr0auto bgcfff"},[r("h1",{staticClass:"tc fs24 c333 mb30 fw400"},[e._v("基本信息")]),r("el-form",{ref:"infoForm",staticClass:"mr0auto",attrs:{"label-position":"top","label-width":"80px","hide-required-asterisk":"",model:e.infoForm,rules:e.infoRules}},[r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{attrs:{placeholder:"真实姓名（必填项）",clearable:""},model:{value:e.infoForm.name,callback:function(t){e.$set(e.infoForm,"name",t)},expression:"infoForm.name"}})],1),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-select",{attrs:{placeholder:"必填项"},model:{value:e.infoForm.sex,callback:function(t){e.$set(e.infoForm,"sex",t)},expression:"infoForm.sex"}},[r("el-option",{attrs:{label:"男",value:"男"}}),r("el-option",{attrs:{label:"女",value:"女"}})],1)],1),r("el-form-item",{attrs:{label:"生日（年月日）",prop:"birth"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"必选项",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:e.infoForm.birth,callback:function(t){e.$set(e.infoForm,"birth",t)},expression:"infoForm.birth"}})],1),r("el-form-item",{attrs:{label:"身高（cm）",prop:"height"}},[r("el-input",{attrs:{placeholder:"必填项，如170.5",clearable:""},model:{value:e.infoForm.height,callback:function(t){e.$set(e.infoForm,"height",t)},expression:"infoForm.height"}})],1),r("el-form-item",{attrs:{label:"体重（kg）",prop:"weight"}},[r("el-input",{attrs:{placeholder:"必填项，如50.75",clearable:""},model:{value:e.infoForm.weight,callback:function(t){e.$set(e.infoForm,"weight",t)},expression:"infoForm.weight"}})],1),r("el-form-item",{staticClass:"mt70"},[r("el-button",{staticClass:"fl",on:{click:function(t){return e.lastStep()}}},[e._v("上一步")]),r("el-button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(t){return e.submitReg("infoForm")}}},[e._v("完成注册")])],1)],1)],1)])])},i=[],a=(r("66af"),r("4861"),r("4020"),r("0d15"),r("69ab"),r("b84e"),r("c5c0"),r("59db"),r("6106"),r("b5cf"),r("9d37")),s=r("61f7"),n=r("08c1"),c=r("acaa");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={components:{countDown:c["a"]},data:function(){return{isOpen:!1,ischecked:!0,formShow:!1,countParams:{api:"SendRegisterCode",params:{mobile:""}},regpersonform:{mobile:"",code:"",password:""},personRules:{mobile:[s["a"].verifyRequired("手机不能为空！"),{validator:s["a"].verifyPhone,trigger:"submit"}],password:[s["a"].verifyRequired("密码不能为空！"),{validator:s["a"].verifyPwd,trigger:"submit"}],code:[s["a"].verifyRequired("短信验证码不能为空！")]},infoForm:{name:"",sex:"",birth:"",height:"",weight:""},infoRules:{name:[s["a"].verifyRequired("姓名不能为空！")],sex:[s["a"].verifyRequired("性别不能为空！")],birth:[s["a"].verifyRequired("生日不能为空！")],height:[s["a"].verifyRequired("身高不能为空！")],weight:[s["a"].verifyRequired("体重不能为空！")]}}},methods:{changeEye:function(e){e.target.className.includes("yanjing")&&(this.isOpen=!this.isOpen)},argee:function(){this.ischecked=!this.ischecked},toPage:function(e){var t=Object.assign({},this.getRegData,this.regpersonform);this.$store.dispatch("regData",t);var r=this.$router.resolve({path:"".concat(e)});window.open(r.href,"_blank")},nextStep:function(){var e=this;this.$refs.regpersonform.validate((function(t){if(!t)return!1;e.$api["CheckRegisterCode"](e.regpersonform).then((function(t){e.regpersonform.sms_id=t.sms_id,clearInterval(e.timer),e.formShow=!0})).catch((function(t){e.$showMsg(t)}))}))},lastStep:function(e){"/"===e?(this.$store.dispatch("regData",{}),this.$router.push("/")):(this.regpersonform={},this.$refs.regpersonform.resetFields(),this.formShow=!1)},submitReg:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var r=t.infoForm,o=r.name,i=r.sex,a=r.birth,s=r.height,n=r.weight,c=m({},t.regpersonform,{true_name:o,sex:"男"===i?1:2,birthday:Number(a)/1e3,weight:Number(n),height:Number(s)});t.$api["PersonRegister"](c).then((function(e){t.$showMsg("注册已完成，请您登录！",3),t.$store.dispatch("regData",{}),setTimeout((function(){t.$router.push("/login")}),2e3)})).catch((function(e){t.$showMsg(e)}))}))}},created:function(){this.regpersonform=this.getFormData},computed:m({},Object(n["b"])(["getRegData"]),{getFormData:function(){var e=Object.assign({},this.getRegData);return e}}),watch:{"regpersonform.mobile":function(e,t){this.countParams.params.mobile=e}}},u=f,p=(r("2c13"),r("5511")),h=Object(p["a"])(u,o,i,!1,null,"68fc65c1",null);t["default"]=h.exports},"2a91":function(e,t,r){},"2c13":function(e,t,r){"use strict";var o=r("2a91"),i=r.n(o);i.a},4020:function(e,t,r){"use strict";var o=r("0e6f"),i=r("03bd").includes,a=r("8276");o({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},6106:function(e,t,r){"use strict";var o=r("0e6f"),i=r("20aa"),a=r("350f"),s=r("f1c6");o({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},acaa:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a",{directives:[{name:"show",rawName:"v-show",value:e.timeShow,expression:"timeShow"}],class:e.className,on:{click:e.sendcode}},[e._v("获取验证码")]),r("a",{directives:[{name:"show",rawName:"v-show",value:!e.timeShow,expression:"!timeShow"}],class:[e.className,e.downClass]},[e._v(e._s(e.time)+" 秒")])])},i=[],a={props:{className:{type:String},downClass:{type:String},countParams:{type:Object}},data:function(){return{timeShow:!0,time:"",timer:null}},methods:{sendcode:_.debounce((function(){var e=this,t=this.countParams,r=t.api,o=t.params,i=/^[1][3,4,5,7,8,9][0-9]{9}$/;o.mobile&&i.test(o.mobile)?this.$api[r](o).then((function(t){var r=59;e.timer||(e.time=r,e.timeShow=!1,e.timer=setInterval((function(){e.time>0&&e.time<=r?e.time--:(e.timeShow=!0,clearInterval(e.timer),e.timer=null)}),1e3))})).catch((function(t){e.$showMsg(t)})):this.$showMsg("请输入正确的手机号码！")}),500,{leading:!0,trailing:!1})}},s=a,n=r("5511"),c=Object(n["a"])(s,o,i,!1,null,"2a999614",null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-0fc0500c.38b24498.js.map