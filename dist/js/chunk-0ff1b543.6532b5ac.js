(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ff1b543"],{"0448":function(e,t,a){"use strict";var r=a("0e6f"),s=a("260f"),i=a("535c"),n=a("ad0a"),o=[].join,l=s!=Object,m=n("join",",");r({target:"Array",proto:!0,forced:l||m},{join:function(e){return o.call(i(this),void 0===e?",":e)}})},"32fa":function(e,t,a){"use strict";var r=a("5160"),s=a.n(r);s.a},"361c":function(e,t,a){},5160:function(e,t,a){},"53a8":function(e,t,a){"use strict";a("b5cf");function r(e){var t=[];return e.forEach((function(e){t.push({label:e,value:e})})),t}var s=[{label:"男",value:1},{label:"女",value:2}],i=["本人","父亲","母亲","兄弟姐妹","子女","其他亲属"],n=["城镇职工医保","城镇居民医保","新农合医保","其他","无"],o=["A型","B型","O型","AB型","RH阳性","RH阴性"],l=["汉族","彝族","藏族","羌族","其他少数民族"],m=["已婚","未婚","离异","丧偶"],u=["小学","初中","高中/中专/中技","大专","本科","硕士","博士及博士后"],c=["国家公务员","专业技术人员","职员","企业管理人员","工人","农民","学生","现役军人","自由职业者","个体经营户","无业人员","退（离）休人员","其他"],d=["极阈健康科技有限公司","无"],p=["青霉素","链霉素","头孢类","鸡蛋","牛奶","海鲜","花粉或尘螨","粉尘","化妆品","洗洁剂","磺胺"],b=["降糖药","降脂药","降药酸药","抗心律失常药","缓解哮喘药","解热镇痛药","强的松类药物","雌激素类药物","利尿剂","镇静剂或安眠药","中草药","避孕药","抗抑郁药物","降压药"],h=["脑部","眼","耳鼻喉","颌面部和口腔","颈部或甲状腺","胸部（含肺部）","心脏","外周血管","胃肠","肝胆","肾脏","脊柱","四肢及关节","膀胱","妇科","前列腺"],y=["高血压病","冠心病","糖尿病","慢性肾脏疾病","慢性阻塞性肺病","脑卒中","外周血管病","脂肪肝","慢性胃炎或胃溃疡","幽门螺杆菌感染","胃息肉","肠道息肉","结核病","慢性肝炎或肝硬化","慢性胆囊炎、胆结石","哮喘","慢性胰腺炎","类风湿性关节炎","前列腺炎或肥大","慢性乳腺疾病","血脂异常","尿酸升高","恶性肿瘤","人乳头瘤病毒（HPV）感染"],v=["高血压病","冠心病","糖尿病","慢性肾脏疾病","慢性阻塞性肺病","脑卒中","外周血管病","心力衰竭","骨质疏松","风湿免疫性疾病","痛风","肥胖症","高血脂"],_={sexType:s,relationshipType:r(i),MedicalCategoryType:r(n),BloodType:r(o),nationType:r(l),marrageType:r(m),EducationType:r(u),OccupationType:r(c),complayType:r(d),allergy:r(p),medication:r(b),Operation:r(h),nowIllness:r(y),familyIllness:r(v)};t["a"]=_},"60da":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"addOreditRecord",staticClass:"addOreditRecord"},[a("div",{staticClass:"header"},[a("p",{staticClass:"title"},[e._v(e._s(e.isAdd?"新建":"编辑")+"健康档案")]),e.isAdd?a("p",{staticClass:"desc"},[e._v("（请您仔细填写下列信息）")]):e._e()]),a("div",{staticClass:"fromTabBox"},[e.isAdd?a("div",{staticClass:"fromTab"},[a("div",{staticClass:"fromTabShaow"}),a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"第一步 填写基本信息",name:"1"}}),a("el-tab-pane",{attrs:{label:"第二步 填写健康史",name:"2"}})],1)],1):e._e(),a("div",{staticClass:"firstStep"},[a("el-form",{ref:"baseFrom",staticClass:"baseFrom",attrs:{model:e.baseFrom,rules:e.rules,"label-width":"110px","label-position":"left"}},["1"==e.activeName?a("div",{staticClass:"step1"},e._l(e.stepOne,(function(t,r){return a("div",{key:r},["input"==t.type?a("div",[a("el-form-item",{attrs:{label:t.label,prop:t.valueKey}},[a("el-input",{attrs:{disabled:t.disabled,maxlength:t.maxLength,placeholder:"请输入"+t.label},model:{value:e.baseFrom[t.valueKey],callback:function(a){e.$set(e.baseFrom,t.valueKey,"string"===typeof a?a.trim():a)},expression:"baseFrom[item.valueKey]"}})],1)],1):e._e(),"date"==t.type?a("div",[a("el-form-item",{attrs:{label:t.label,prop:t.valueKey}},[a("el-date-picker",{attrs:{type:"date","picker-options":e.pickerDisabled,"value-format":"timestamp",placeholder:"请选择"+t.label},model:{value:e.baseFrom[t.valueKey],callback:function(a){e.$set(e.baseFrom,t.valueKey,a)},expression:"baseFrom[item.valueKey]"}})],1)],1):e._e(),"select"==t.type?a("div",[a("el-form-item",{attrs:{label:t.label,prop:t.valueKey}},[a("el-select",{attrs:{placeholder:"请选择"+t.label},model:{value:e.baseFrom[t.valueKey],callback:function(a){e.$set(e.baseFrom,t.valueKey,a)},expression:"baseFrom[item.valueKey]"}},e._l(t.options,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1):e._e()])})),0):e._e(),e.isAdd&&"2"!=e.activeName?e._e():a("div",{staticClass:"step2"},e._l(e.stepTwoData,(function(t,r){return a("div",{key:r,staticClass:"sectionInfo"},["psersonal"==t.type?a("div",[a("div",{staticClass:"titleInfo"},[a("h3",[e._v(e._s(t.title))]),a("p",[e._v(e._s(t.decs))])]),a("div",{staticClass:"psersonalFrom"},[a("div",[a("p",[e._v("(1) 您是否吸烟？")]),a("el-form-item",{attrs:{label:"",prop:"person.have"}},[a("el-radio-group",{model:{value:e.baseFrom.person.have,callback:function(t){e.$set(e.baseFrom.person,"have",t)},expression:"baseFrom.person.have"}},[a("el-radio",{attrs:{label:"是"}}),a("el-radio",{attrs:{label:"否"}})],1),"是"==e.baseFrom.person.have?a("div",{staticClass:"isChoose"},[a("el-form-item",{attrs:{label:"吸烟多少年？",prop:"person.smoking_year"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.baseFrom.person.smoking_year,callback:function(t){e.$set(e.baseFrom.person,"smoking_year","string"===typeof t?t.trim():t)},expression:"baseFrom.person.smoking_year"}}),a("span",[e._v(" 年")])],1),a("el-form-item",{attrs:{label:"每天吸烟多少支？",prop:"person.smoking_num"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.baseFrom.person.smoking_num,callback:function(t){e.$set(e.baseFrom.person,"smoking_num","string"===typeof t?t.trim():t)},expression:"baseFrom.person.smoking_num"}}),a("span",[e._v(" 支")])],1)],1):e._e()],1)],1),a("div",[a("p",[e._v("(2) 您是否饮酒？")]),a("el-form-item",{attrs:{label:"",prop:"person.drink"}},[a("el-radio-group",{model:{value:e.baseFrom.person.drink,callback:function(t){e.$set(e.baseFrom.person,"drink",t)},expression:"baseFrom.person.drink"}},[a("el-radio",{attrs:{label:"从不饮酒"}}),a("el-radio",{attrs:{label:"经常饮酒"}}),a("el-radio",{attrs:{label:"偶尔饮酒"}})],1),"经常饮酒"==e.baseFrom.person.drink||"偶尔饮酒"==e.baseFrom.person.drink?a("div",{staticClass:"isChoose"},[a("el-form-item",{attrs:{label:"每天饮酒量",prop:"person.drink_num"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.baseFrom.person.drink_num,callback:function(t){e.$set(e.baseFrom.person,"drink_num","string"===typeof t?t.trim():t)},expression:"baseFrom.person.drink_num"}}),a("span",[e._v(e._s(e.baseFrom.person.drink_unit))]),a("el-select",{staticClass:"unit",attrs:{size:"mini"},model:{value:e.baseFrom.person.drink_unit,callback:function(t){e.$set(e.baseFrom.person,"drink_unit",t)},expression:"baseFrom.person.drink_unit"}},[a("el-option",{attrs:{label:"斤",value:"斤"}}),a("el-option",{attrs:{label:"两",value:"两"}}),a("el-option",{attrs:{label:"瓶",value:"瓶"}})],1)],1)],1):e._e()],1)],1)])]):e._e(),"Menstrual"==t.type&&1!=e.baseFrom.sex?a("div",[a("div",{staticClass:"titleInfo"},[a("h3",[e._v(e._s(t.title))]),a("p",[e._v(e._s(t.decs))])]),a("div",{staticClass:"MenstrualBox"},[a("el-form-item",{attrs:{label:"月经周期(天)",prop:"menstrual.menstrual_cycle"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.baseFrom.menstrual.menstrual_cycle,callback:function(t){e.$set(e.baseFrom.menstrual,"menstrual_cycle","string"===typeof t?t.trim():t)},expression:"baseFrom.menstrual.menstrual_cycle"}})],1),a("div",{staticClass:"inlineFrom"},[a("el-form-item",{attrs:{label:"首次月经时间",prop:"menstrual.first_menstrual_time"}},[a("el-date-picker",{attrs:{size:"mini",type:"date","picker-options":e.pickerDisabled,"value-format":"timestamp",placeholder:"请选择首次月经时间"},model:{value:e.baseFrom.menstrual.first_menstrual_time,callback:function(t){e.$set(e.baseFrom.menstrual,"first_menstrual_time",t)},expression:"baseFrom.menstrual.first_menstrual_time"}})],1),a("el-form-item",{attrs:{label:"末次月经时间",prop:"menstrual.last_menstrual_time"}},[a("el-date-picker",{attrs:{size:"mini",type:"date","picker-options":e.pickerDisabled,"value-format":"timestamp",placeholder:"请选择末次月经时间"},model:{value:e.baseFrom.menstrual.last_menstrual_time,callback:function(t){e.$set(e.baseFrom.menstrual,"last_menstrual_time",t)},expression:"baseFrom.menstrual.last_menstrual_time"}})],1)],1),a("el-form-item",{attrs:{label:"育有儿女(个)",prop:"menstrual.children_num"}},[a("el-input",{attrs:{size:"mini"},model:{value:e.baseFrom.menstrual.children_num,callback:function(t){e.$set(e.baseFrom.menstrual,"children_num","string"===typeof t?t.trim():t)},expression:"baseFrom.menstrual.children_num"}})],1)],1)]):"select"==t.type?a("div",[a("div",{staticClass:"titleInfo"},[a("h3",[e._v(e._s(t.title))]),a("p",[e._v(e._s(t.decs))])]),a("div",{staticClass:"infoContent"},[a("el-checkbox-group",{staticClass:"coustomCheckbox",model:{value:e.baseFrom[t.dataKey].items,callback:function(a){e.$set(e.baseFrom[t.dataKey],"items",a)},expression:"baseFrom[item.dataKey].items"}},e._l(t.checkData,(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.label}},[e._v(e._s(t.label))])})),1),t.hasTumour?a("div",{staticClass:"Other"},[a("div",{staticClass:"OtherChecked"},[a("el-checkbox",{model:{value:e.baseFrom[t.dataKey].tumourStatus,callback:function(a){e.$set(e.baseFrom[t.dataKey],"tumourStatus",a)},expression:"baseFrom[item.dataKey].tumourStatus"}},[e._v("恶性肿瘤")])],1),e.baseFrom[t.dataKey].tumourStatus?a("div",{staticClass:"OtherInput"},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"","label-width":"0",prop:(""+t.dataKey).tumour}},[a("el-input",{attrs:{size:"mini",placeholder:"恶性肿瘤"},model:{value:e.baseFrom[t.dataKey].tumour,callback:function(a){e.$set(e.baseFrom[t.dataKey],"tumour",a)},expression:"baseFrom[item.dataKey].tumour"}})],1)],1):e._e()]):e._e(),a("div",{staticClass:"Other"},[a("div",{staticClass:"OtherChecked"},[a("el-checkbox",{model:{value:e.baseFrom[t.dataKey].otherStatus,callback:function(a){e.$set(e.baseFrom[t.dataKey],"otherStatus",a)},expression:"baseFrom[item.dataKey].otherStatus"}},[e._v("其他")])],1),e.baseFrom[t.dataKey].otherStatus?a("div",{staticClass:"OtherInput"},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{"label-width":"0",label:"",prop:(""+t.dataKey).other}},[a("el-input",{attrs:{size:"mini",placeholder:"其他"},model:{value:e.baseFrom[t.dataKey].other,callback:function(a){e.$set(e.baseFrom[t.dataKey],"other",a)},expression:"baseFrom[item.dataKey].other"}})],1)],1):e._e()])],1),t.hasMoreData?a("div",{staticClass:"opreationS"},[a("div",{staticClass:"titleInfo"},[a("p",[e._v("(2)手术名称是？")])]),a("div",{staticClass:"infoContent"},[a("el-form-item",{attrs:{label:"",prop:"operation.operation_name"}},[a("el-input",{attrs:{autosize:{minRows:5,maxRows:8},type:"textarea"},model:{value:e.baseFrom[t.dataKey].operation_name,callback:function(a){e.$set(e.baseFrom[t.dataKey],"operation_name",a)},expression:"baseFrom[item.dataKey].operation_name"}})],1)],1)]):e._e()]):e._e()])})),0),e.isAdd?a("div",{staticClass:"save"},[a("el-form-item",["2"==e.activeName?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.backStep1("baseFrom")}}},[e._v("上一步")]):e._e(),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("baseFrom")}}},[e._v(e._s("2"==e.activeName?"新建档案":"下一步"))])],1)],1):a("div",{staticClass:"save"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editRecord("baseFrom")}}},[e._v("保存修改")])],1)],1)])],1)])])},s=[],i=(a("66af"),a("4861"),a("7a2d"),a("0448"),a("0d15"),a("69ab"),a("b84e"),a("c5c0"),a("59db"),a("6004"),a("e910"),a("4236"),a("b5cf"),a("9d37")),n=a("53a8"),o=a("61f7"),l=a("08c1");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={name:"addOreditRecord",data:function(){return u({isIndeterminate:!0,activeName:"1"},n["a"],{loading:!1,pickerDisabled:{disabledDate:function(e){return e.getTime()>(new Date).getTime()}},baseFrom:{true_name:"",medical_insurance:"",sex:"",age:"",nation:"",birthday:"",marriage:"",height:"",weight:"",education:"",blood_type:"",profession:"",id_card:"",address:"",mobile:"",relation:"",family:{items:[],tumourStatus:!1,tumour:"",other:"",otherStatus:!1},current:{items:[],other:"",otherStatus:!1},drug:{items:[],other:"",otherStatus:!1},allergy:{items:[],other:"",otherStatus:!1},operation:{items:[],other:"",otherStatus:!1,operation_name:""},menstrual:{children_num:"",first_menstrual_time:"",last_menstrual_time:"",menstrual_cycle:""},person:{drink:"从不饮酒",drink_num:"",drink_unit:"两",have:"否",smoking_num:"",smoking_year:""}},rules:{true_name:[o["a"].verifyRequired("请输入姓名"),{validator:o["a"].verifyChinsesName,trigger:"submit"}],sex:[o["a"].verifyRequired("请选择性别")],age:[o["a"].verifyRequired("请选择生日")],birthday:[o["a"].verifyRequired("请选择生日")],height:[o["a"].verifyRequired("请输入身高"),{validator:o["a"].verifyIsdecimal,trigger:"submit"}],weight:[o["a"].verifyRequired("请输入体重"),{validator:o["a"].verifyIsdecimal,trigger:"submit"}],blood_type:[o["a"].verifyRequired("请选择血型")],id_card:[o["a"].verifyRequired("请输入身份证"),{validator:o["a"].verifyIdcard,trigger:"submit"}],mobile:[o["a"].verifyRequired("请输入手机号"),{validator:o["a"].verifyPhone,trigger:"submit"}],relation:[o["a"].verifyRequired("请选择关系")]},stepOne:[{label:"真实姓名",valueKey:"true_name",type:"input",maxLength:"20"},{label:"性别",valueKey:"sex",type:"select",maxLength:"20",options:n["a"].sexType},{label:"生日",valueKey:"birthday",type:"date",maxLength:"20"},{label:"身高(cm)",valueKey:"height",type:"input",maxLength:"20"},{label:"年龄",valueKey:"age",disabled:!0,type:"input",maxLength:"20"},{label:"体重(kg)",valueKey:"weight",type:"input",maxLength:"20"},{label:"身份证号",valueKey:"id_card",type:"input",maxLength:"18"},{label:"手机号码",valueKey:"mobile",type:"input",maxLength:"11"},{label:"血型",valueKey:"blood_type",type:"select",maxLength:"20",options:n["a"].BloodType},{label:"与本人关系",valueKey:"relation",type:"select",maxLength:"20",options:n["a"].relationshipType},{label:"医保类别",valueKey:"medical_insurance",type:"select",maxLength:"20",options:n["a"].MedicalCategoryType},{label:"民族",valueKey:"nation",type:"select",maxLength:"20",options:n["a"].nationType},{label:"常住地址",valueKey:"address",type:"input",maxLength:"50"},{label:"学历",valueKey:"education",type:"select",maxLength:"20",options:n["a"].EducationType},{label:"婚姻",valueKey:"marriage",type:"select",maxLength:"20",options:n["a"].marrageType},{label:"职业",valueKey:"profession",type:"select",maxLength:"20",options:n["a"].OccupationType}],stepTwoData:[{title:"个人史",type:"psersonal",decs:"",dataKey:"psersonal"},{title:"现有疾病",type:"select",decs:"",checkData:n["a"].nowIllness,dataKey:"current"},{title:"手术史",type:"select",dataKey:"operation",decs:"(1)若您做过手术，手术的部位是？",checkData:n["a"].Operation,hasMoreData:!0},{title:"过敏史",type:"select",decs:"",dataKey:"allergy",checkData:n["a"].allergy},{title:"月经及生育史",type:"Menstrual",decs:"",dataKey:"Menstrual"},{title:"用药史",type:"select",dataKey:"drug",decs:"若您长期服用药物（连续服用6个月以上，平均每日服用1次以上）药物名称是？",checkData:n["a"].medication},{title:"家族史",type:"select",decs:"您的父母或兄弟姐妹患有明确诊断的疾病的名称是",checkData:n["a"].familyIllness,hasTumour:!0,dataKey:"family"}]})},components:{},beforeDestroy:function(){this.loading=!1,this.resetForm("baseFrom")},watch:{$route:function(e){"addRecord"==e.name?this.resetForm("baseFrom"):this.getRecordInfo(this.$route.params.id)},"baseFrom.birthday":function(e){this.baseFrom.age=this.$getAge(e)},activeName:function(e,t){"2"===e&&document.getElementsByClassName("addOreditRecord")[0].scrollTo(0,0)}},methods:{transFromString:function(e,t){var a=e;return 1==t?0==e&&(a=""):2==t&&(a=Number(e)),a},submitForm:function(e){var t=this;"1"==this.activeName?this.$refs[e].validate((function(e){if(!e)return!1;t.activeName="2",t.$backTop()})):this.addHealthRecord(e)},transfromData:function(e){var t=this,a=this._.cloneDeep(e);a["birthday"]=a["birthday"]/1e3,a["height"]=Number(a["height"]),a["weight"]=Number(a["weight"]),a["person"].have="是"==a["person"].have?1:2,2==a["person"].have?(a["person"].smoking_num=0,a["person"].smoking_year=0):(a["person"].smoking_num=Number(a["person"].smoking_num),a["person"].smoking_year=Number(a["person"].smoking_year)),"从不饮酒"==a["person"].drink?a["person"].drink_num=0:a["person"].drink_num=Number(a["person"].drink_num),2==a.sex?(a["menstrual"].first_menstrual_time=a["menstrual"].first_menstrual_time/1e3,a["menstrual"].last_menstrual_time=a["menstrual"].last_menstrual_time/1e3,a["menstrual"].children_num=Number(a["menstrual"].children_num),a["menstrual"].menstrual_cycle=Number(a["menstrual"].menstrual_cycle)):a["menstrual"]={menstrual_cycle:0,first_menstrual_time:0,last_menstrual_time:0,children_num:0};var r=["allergy","current","drug","family","operation"];return r.forEach((function(e){var r=Array.isArray(a[e].items)?a[e].items:[];a[e].items=t._.compact(r).join(","),a[e].otherStatus||(a[e].other=""),a[e].tumourStatus||(a[e].tumour="")})),a},addHealthRecord:function(e){var t=this;this.loading=!0;var a=this.transfromData(this.baseFrom);this.$api["CreateHealthRecord"](a).then((function(e){t.$showMsg("添加成功",3);var a=t._.cloneDeep(t.userInfo);a.personInfo.has_health_record=1,t.$store.dispatch("INCREMENT_CHANGEUSERINFO",a),t.$router.push({name:"healthRecordList"})})).catch((function(e){t.loading=!1,t.$showMsg("添加失败")}))},resetForm:function(e){this.$refs[e].resetFields(),this.clearOtherData()},backStep1:function(e){this.activeName="1"},editRecord:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.loading=!0;var a=t.transfromData(t.baseFrom);t.$api["UpdateHealthRecord"](a).then((function(e){t.$showMsg("编辑成功",3),t.$router.push({name:"healthRecordList"})})).catch((function(e){t.loading=!1,t.$showMsg("编辑失败")}))}))},clearOtherData:function(){var e=this.baseFrom;e.family={items:[],tumourStatus:!1,tumour:"",other:"",otherStatus:!1},e.current={items:[],other:"",otherStatus:!1},e.drug={items:[],other:"",otherStatus:!1},e.allergy={items:[],other:"",otherStatus:!1},e.operation={items:[],other:"",otherStatus:!1,operation_name:""},e.menstrual={children_num:"",first_menstrual_time:"",last_menstrual_time:"",menstrual_cycle:""},e.person={drink:"从不饮酒",drink_num:"",drink_unit:"两",have:"否",smoking_num:"",smoking_year:""}},initData:function(e){var t={},a=["allergy","current","drug","family","operation"];for(var r in e)if(-1!=a.indexOf(r)){var s={items:e[r].items.trim().split(","),otherStatus:!1,other:e[r].other,operation_name:e[r].operation_name};e[r].other&&(s.otherStatus=!0),"family"==r&&(e[r].tumour?(s.tumourStatus=!0,s.tumour=e[r].tumour):(s.tumourStatus=!1,s.tumour="")),t[r]=s}else if("person"==r){var i=this._.cloneDeep(e[r]);i.have=1==i.have?"是":"否",i.drink_num=this.transFromString(i.drink_num,1),i.smoking_num=this.transFromString(i.smoking_num,1),i.smoking_year=this.transFromString(i.smoking_year,1),i.drink_num=this.transFromString(i.drink_num,1),i.drink_unit=i.drink_unit?i.drink_unit:"两",i.drink=i.drink?i.drink:"从不饮酒",t[r]=i}else if("menstrual"==r){var n=this._.cloneDeep(e[r]);n.first_menstrual_time=this.transFromString(1e3*n.first_menstrual_time,1),n.last_menstrual_time=this.transFromString(1e3*n.last_menstrual_time,1),n.children_num=this.transFromString(n.children_num,1),n.menstrual_cycle=this.transFromString(n.menstrual_cycle,1),t[r]=n}else"birthday"==r?t["birthday"]=1e3*e[r]:t[r]=e[r];return t},getRecordInfo:function(e){var t=this;this.loading=!0,this.$api["GetHealthRecordDetail"]({health_record_id:e}).then((function(e){t.baseFrom=t.initData(e),t.loading=!1})).catch((function(e){t.$showMsg("获取数据失败!"),t.loading=!1}))}},created:function(){var e=this;this.$nextTick((function(){e.resetForm("baseFrom");var t=e.userInfo.personInfo;0==t.has_health_record&&(e.baseFrom.true_name=t.true_name,e.baseFrom.sex=e.transFromString(t.sex,1),e.baseFrom.birthday=e.transFromString(1e3*t.birthday,1),e.baseFrom.weight=e.transFromString(t.weight,1),e.baseFrom.height=e.transFromString(t.height,1),e.baseFrom.mobile=t.mobile)})),this.$route.params.id&&this.getRecordInfo(this.$route.params.id)},computed:u({},Object(l["b"])(["userInfo"]),{isAdd:function(){return!this.$route.params.id}})},d=c,p=(a("d5c0"),a("32fa"),a("5511")),b=Object(p["a"])(d,r,s,!1,null,"3a1d66cc",null);t["default"]=b.exports},d5c0:function(e,t,a){"use strict";var r=a("361c"),s=a.n(r);s.a}}]);
//# sourceMappingURL=chunk-0ff1b543.6532b5ac.js.map